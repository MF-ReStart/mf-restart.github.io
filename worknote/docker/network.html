
<!DOCTYPE HTML>
<html lang="zh-hans" >
    <head>
        <meta charset="UTF-8">
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <title>网络 · 荒原饮露的笔记</title>
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="description" content="">
        <meta name="generator" content="GitBook 3.2.3">
        <meta name="author" content="荒原饮露">
        
        
    
    <link rel="stylesheet" href="../../gitbook/style.css">

    
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-disqus/plugin.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-prism/prism-lucario.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-advanced-emoji/emoji-website.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-splitter/splitter.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-tbfed-pagefooter/footer.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-anchors/plugin.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-anchor-navigation-ex/style/plugin.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-alerts/style.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-toggle-chapters/toggle.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-fontsettings/website.css">
                
            
        

    

    
        
    
        
    
        
    
        
    
        
    
        
    

        
    
    
    <meta name="HandheldFriendly" content="true"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link rel="apple-touch-icon-precomposed" sizes="152x152" href="../../gitbook/images/apple-touch-icon-precomposed-152.png">
    <link rel="shortcut icon" href="../../gitbook/images/favicon.ico" type="image/x-icon">

    
    <link rel="next" href="dockerfile.html" />
    
    
    <link rel="prev" href="data-persistence.html" />
    

    </head>
    <body>
        
<div class="book">
    <div class="book-summary">
        
            
            
                <nav role="navigation">
                


<ul class="summary">
    
    
    
        
        <li>
            <a href="https://mf-restart.github.io/" target="_blank" class="custom-link">Home</a>
        </li>
    
    

    
    <li class="divider"></li>
    

    
        
        <li class="header">简介</li>
        
        
    
        <li class="chapter " data-level="1" data-path="../../">
            
                <a href="../../">
            
                    
                        <b>1.</b>
                    
                    introduction
            
                </a>
            

            
        </li>
    

    
        
        <li class="header">工作笔记</li>
        
        
    
        <li class="chapter " data-level="1" data-path="../kubernetes/readme.html">
            
                <a href="../kubernetes/readme.html">
            
                    
                        <b>1.</b>
                    
                    Kubernetes
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.1" data-path="../kubernetes/overview.html">
            
                <a href="../kubernetes/overview.html">
            
                    
                        <b>1.1.</b>
                    
                    概述
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2" data-path="../kubernetes/deployment-kubernetes-cluster.html">
            
                <a href="../kubernetes/deployment-kubernetes-cluster.html">
            
                    
                        <b>1.2.</b>
                    
                    部署Kubernetes集群
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3" data-path="../kubernetes/kubelet-overview.html">
            
                <a href="../kubernetes/kubelet-overview.html">
            
                    
                        <b>1.3.</b>
                    
                    Kubelet概述
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4" data-path="../kubernetes/object-resource-format.html">
            
                <a href="../kubernetes/object-resource-format.html">
            
                    
                        <b>1.4.</b>
                    
                    对象类资源格式
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5" data-path="../kubernetes/workload-resources.html">
            
                <a href="../kubernetes/workload-resources.html">
            
                    
                        <b>1.5.</b>
                    
                    工作负载资源使用
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6" data-path="../kubernetes/service-resources.html">
            
                <a href="../kubernetes/service-resources.html">
            
                    
                        <b>1.6.</b>
                    
                    Service资源
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7" data-path="../kubernetes/ingress.html">
            
                <a href="../kubernetes/ingress.html">
            
                    
                        <b>1.7.</b>
                    
                    Ingress
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8" data-path="../kubernetes/storage.html">
            
                <a href="../kubernetes/storage.html">
            
                    
                        <b>1.8.</b>
                    
                    存储
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9" data-path="../kubernetes/configuration.html">
            
                <a href="../kubernetes/configuration.html">
            
                    
                        <b>1.9.</b>
                    
                    配置
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10" data-path="../kubernetes/statefulset.html">
            
                <a href="../kubernetes/statefulset.html">
            
                    
                        <b>1.10.</b>
                    
                    StatefulSet
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.11" data-path="../kubernetes/certification-authorization-access-control.html">
            
                <a href="../kubernetes/certification-authorization-access-control.html">
            
                    
                        <b>1.11.</b>
                    
                    认证授权与准入控制
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="2" data-path="readme.html">
            
                <a href="readme.html">
            
                    
                        <b>2.</b>
                    
                    Docker
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="2.1" data-path="overview.html">
            
                <a href="overview.html">
            
                    
                        <b>2.1.</b>
                    
                    概述
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.2" data-path="install.html">
            
                <a href="install.html">
            
                    
                        <b>2.2.</b>
                    
                    安装
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.3" data-path="images-and-containers.html">
            
                <a href="images-and-containers.html">
            
                    
                        <b>2.3.</b>
                    
                    镜像和容器
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.4" data-path="data-persistence.html">
            
                <a href="data-persistence.html">
            
                    
                        <b>2.4.</b>
                    
                    数据持久化
            
                </a>
            

            
        </li>
    
        <li class="chapter active" data-level="2.5" data-path="network.html">
            
                <a href="network.html">
            
                    
                        <b>2.5.</b>
                    
                    网络
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.6" data-path="dockerfile.html">
            
                <a href="dockerfile.html">
            
                    
                        <b>2.6.</b>
                    
                    Dockerfile
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="3" data-path="../mysql/readme.html">
            
                <a href="../mysql/readme.html">
            
                    
                        <b>3.</b>
                    
                    MySql
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="3.1" data-path="../mysql/mysql-base.html">
            
                <a href="../mysql/mysql-base.html">
            
                    
                        <b>3.1.</b>
                    
                    基础
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

    
        
        <li class="header">生活笔记</li>
        
        
    
        <li class="chapter " data-level="1" data-path="../../life/pretend.html">
            
                <a href="../../life/pretend.html">
            
                    
                        <b>1.</b>
                    
                    我在人间装逼的日子
            
                </a>
            

            
        </li>
    

    

    <li class="divider"></li>

    <li>
        <a href="https://www.gitbook.com" target="blank" class="gitbook-link">
            本书使用 GitBook 发布
        </a>
    </li>
</ul>


                </nav>
            
        
    </div>

    <div class="book-body">
        
            <div class="body-inner">
                
                    

<div class="book-header" role="navigation">
    

    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href="../.." >网络</a>
    </h1>
</div>




                    <div class="page-wrapper" tabindex="-1" role="main">
                        <div class="page-inner">
                            
                                <section class="normal markdown-section">
                                
                                <div id="anchor-navigation-ex-navbar"><i class="fa fa-anchor"></i><ul><li><a href="#&#x7F51;&#x7EDC;&#x6982;&#x8FF0;">1. &#x7F51;&#x7EDC;&#x6982;&#x8FF0;</a></li><ul><li><a href="#docker-&#x5E38;&#x7528;&#x7684;&#x7F51;&#x7EDC;&#x7C7B;&#x578B;">1.1. Docker &#x5E38;&#x7528;&#x7684;&#x7F51;&#x7EDC;&#x7C7B;&#x578B;</a></li><ul><li><a href="#bridge">1.1.1. Bridge</a></li><li><a href="#host">1.1.2. Host</a></li><li><a href="#container">1.1.3. Container</a></li><li><a href="#none">1.1.4. None</a></li></ul><li><a href="#flannel-&#x5B9E;&#x73B0;-docker-&#x8DE8;&#x4E3B;&#x673A;&#x901A;&#x4FE1;">1.2. Flannel &#x5B9E;&#x73B0; Docker &#x8DE8;&#x4E3B;&#x673A;&#x901A;&#x4FE1;</a></li></ul></ul></div><a href="#&#x7F51;&#x7EDC;&#x6982;&#x8FF0;" id="anchorNavigationExGoTop"><i class="fa fa-arrow-up"></i></a><h1 id="&#x7F51;&#x7EDC;&#x6982;&#x8FF0;"><a name="&#x7F51;&#x7EDC;&#x6982;&#x8FF0;" class="anchor-navigation-ex-anchor" href="#&#x7F51;&#x7EDC;&#x6982;&#x8FF0;"><i class="fa fa-link" aria-hidden="true"></i></a>1. &#x7F51;&#x7EDC;&#x6982;&#x8FF0;</h1>
<p>Docker &#x5BB9;&#x5668;&#x548C;&#x670D;&#x52A1;&#x5982;&#x6B64;&#x5F3A;&#x5927;&#x7684;&#x539F;&#x56E0;&#x4E4B;&#x4E00;&#x662F;&#x53EF;&#x4EE5;&#x5C06;&#x5B83;&#x4EEC;&#x8FDE;&#x63A5;&#x5230;&#x4E00;&#x8D77;&#xFF0C;&#x6216;&#x5C06;&#x5B83;&#x4EEC;&#x8FDE;&#x63A5;&#x5230;&#x5176;&#x4ED6;&#x7684;&#x975E; Docker &#x5DE5;&#x4F5C;&#x8D1F;&#x8F7D;&#x4E0A;&#x3002;Docker &#x5BB9;&#x5668;&#x751A;&#x81F3;&#x4E0D;&#x9700;&#x8981;&#x77E5;&#x9053;&#x5B83;&#x4EEC;&#x90E8;&#x7F72;&#x5728; Docker &#x4E0A;&#xFF0C;&#x6216;&#x8005;&#x5B83;&#x4EEC;&#x7684;&#x5BF9;&#x7AEF;&#x662F;&#x5426;&#x4E5F;&#x662F; Docker &#x5DE5;&#x4F5C;&#x8D1F;&#x8F7D;&#x3002;&#x65E0;&#x8BBA;&#x4F60;&#x7684; Docker &#x4E3B;&#x673A;&#x662F;&#x8FD0;&#x884C;&#x5728; Linux &#x8FD8;&#x662F; Windows &#x53C8;&#x6216;&#x8005;&#x4E24;&#x8005;&#x90FD;&#x6709;&#xFF0C;&#x4F60;&#x90FD;&#x53EF;&#x4EE5;&#x4F7F;&#x7528; Docker &#x4EE5;&#x5E73;&#x53F0;&#x65E0;&#x5173;&#x7684;&#x65B9;&#x5F0F;&#x7BA1;&#x7406;&#x5B83;&#x4EEC;&#x3002;</p>
<p>Docker &#x7684;&#x7F51;&#x7EDC;&#x5B50;&#x7CFB;&#x7EDF;&#x662F;&#x4F7F;&#x7528;&#x9A71;&#x52A8;&#x7A0B;&#x5E8F;&#x63D2;&#x5165;&#x7684;&#x3002;&#x9ED8;&#x8BA4;&#x60C5;&#x51B5;&#x4E0B;&#x5B58;&#x5728;&#x591A;&#x4E2A;&#x9A71;&#x52A8;&#x7A0B;&#x5E8F;&#xFF0C;&#x5B83;&#x4EEC;&#x4E00;&#x8D77;&#x63D0;&#x4F9B;&#x6838;&#x5FC3;&#x7F51;&#x7EDC;&#x529F;&#x80FD;&#xFF0C;&#x53EF;&#x4EE5;&#x4F7F;&#x7528; docker network ls &#x547D;&#x4EE4;&#x67E5;&#x770B;&#x9ED8;&#x8BA4;&#x5B58;&#x5728;&#x7684;&#x9A71;&#x52A8;&#x7A0B;&#x5E8F;&#x3002;</p>
<pre class="language-"><code class="lang-bash"><span class="token punctuation">[</span>root@docker ~<span class="token punctuation">]</span><span class="token comment"># docker network ls</span>
NETWORK ID     NAME      DRIVER    SCOPE
ef0a155fdde4   bridge    bridge    <span class="token builtin class-name">local</span>
c4fa50b15f43   <span class="token function">host</span>      <span class="token function">host</span>      <span class="token builtin class-name">local</span>
6a2c541b2e82   none      null      <span class="token builtin class-name">local</span>
<span class="token punctuation">[</span>root@docker ~<span class="token punctuation">]</span><span class="token comment">#</span>
</code></pre>
<h2 id="docker-&#x5E38;&#x7528;&#x7684;&#x7F51;&#x7EDC;&#x7C7B;&#x578B;"><a name="docker-&#x5E38;&#x7528;&#x7684;&#x7F51;&#x7EDC;&#x7C7B;&#x578B;" class="anchor-navigation-ex-anchor" href="#docker-&#x5E38;&#x7528;&#x7684;&#x7F51;&#x7EDC;&#x7C7B;&#x578B;"><i class="fa fa-link" aria-hidden="true"></i></a>1.1. Docker &#x5E38;&#x7528;&#x7684;&#x7F51;&#x7EDC;&#x7C7B;&#x578B;</h2>
<h3 id="bridge"><a name="bridge" class="anchor-navigation-ex-anchor" href="#bridge"><i class="fa fa-link" aria-hidden="true"></i></a>1.1.1. Bridge</h3>
<p>&#x9ED8;&#x8BA4;&#x7684;&#x7F51;&#x7EDC;&#x9A71;&#x52A8;&#x7A0B;&#x5E8F;&#xFF0C;&#x5982;&#x679C;&#x4F60;&#x521B;&#x5EFA;&#x5BB9;&#x5668;&#x65F6;&#x4E0D;&#x6307;&#x5B9A;&#x7F51;&#x7EDC;&#x9A71;&#x52A8;&#x7A0B;&#x5E8F;&#xFF0C;&#x8FD9;&#x5C31;&#x662F;&#x4F60;&#x6B63;&#x5728;&#x521B;&#x5EFA;&#x5BB9;&#x5668;&#x7684;&#x7F51;&#x7EDC;&#x7C7B;&#x578B;&#x3002;&#x5F53;&#x4F60;&#x7684;&#x5E94;&#x7528;&#x7A0B;&#x5E8F;&#x5728;&#x9700;&#x8981;&#x901A;&#x4FE1;&#x7684;&#x72EC;&#x7ACB;&#x5BB9;&#x5668;&#x4E2D;&#x8FD0;&#x884C;&#x65F6;&#xFF0C;&#x901A;&#x5E38;&#x4F1A;&#x4F7F;&#x7528;&#x6865;&#x63A5;&#x7F51;&#x7EDC;&#x3002;&#x5F53;&#x542F;&#x52A8; docker.service &#x670D;&#x52A1;&#x4E4B;&#x540E;&#xFF0C;Docker &#x4F1A;&#x9ED8;&#x8BA4;&#x521B;&#x5EFA;&#x4E00;&#x4E2A;&#x540D;&#x4E3A; docker0 &#x7684;&#x865A;&#x62DF;&#x7F51;&#x6865;&#xFF0C;&#x6240;&#x6709;&#x6CA1;&#x6709;&#x6307;&#x5B9A;&#x7F51;&#x7EDC;&#x9A71;&#x52A8;&#x7A0B;&#x5E8F;&#x7684;&#x5BB9;&#x5668;&#x90FD;&#x4F1A;&#x88AB;&#x52A0;&#x5165;&#x5230;&#x8FD9;&#x4E2A;&#x7F51;&#x6865;&#x4E2D;&#x3002;&#x865A;&#x62DF;&#x7F51;&#x6865;&#x5C31;&#x50CF;&#x4E00;&#x4E2A;&#x7269;&#x7406;&#x4EA4;&#x6362;&#x673A;&#xFF0C;&#x8FD9;&#x6837;&#x7F51;&#x6865;&#x5185;&#x7684;&#x5BB9;&#x5668;&#x90FD;&#x8FDE;&#x63A5;&#x5230;&#x4E86;&#x4E00;&#x4E2A;&#x4E8C;&#x5C42;&#x7F51;&#x7EDC;&#x4E2D;&#x3002;Docker &#x4F1A;&#x5728;&#x5BBF;&#x4E3B;&#x673A;&#x4E0A;&#x521B;&#x5EFA;&#x4E00;&#x5BF9; veth pair &#x865A;&#x62DF;&#x7F51;&#x5361;&#x8BBE;&#x5907;&#xFF0C;&#x8FD9;&#x4E00;&#x5BF9; veth pair &#x865A;&#x62DF;&#x7F51;&#x5361;&#x8BBE;&#x5907;&#x7684;&#x4E24;&#x7AEF;&#x5206;&#x522B;&#x5BF9;&#x5E94;&#x5BB9;&#x5668;&#x5185;&#x90E8;&#x7684; eth0 &#x7F51;&#x5361;&#x548C;&#x5BBF;&#x4E3B;&#x673A;&#x4E0A;&#x7C7B;&#x4F3C; vethxxxxxx &#x7684;&#x865A;&#x62DF;&#x7F51;&#x5361;&#xFF0C;&#x53EF;&#x4EE5;&#x4F7F;&#x7528; brctl show &#x547D;&#x4EE4;&#x67E5;&#x770B;&#x5BBF;&#x4E3B;&#x673A;&#x4E0A;&#x5DF2;&#x7ECF;&#x52A0;&#x5165;&#x5230; docker0 &#x7F51;&#x6865;&#x4E0B;&#x7684;&#x865A;&#x62DF;&#x7F51;&#x5361;&#x8BBE;&#x5907;&#x3002;&#x865A;&#x62DF;&#x7F51;&#x5361;&#x8BBE;&#x5907;&#x8FDE;&#x63A5;&#x5230; docker0 &#x7F51;&#x6865;&#x540E;&#xFF0C; docker0 &#x7F51;&#x6865;&#x4F1A;&#x4ECE;&#x5B50;&#x7F51;&#x5206;&#x914D;&#x4E00;&#x4E2A; ip &#x7ED9;&#x5BB9;&#x5668;&#xFF0C;&#x5E76;&#x4E14;&#x8BBE;&#x7F6E; docker0 &#x7F51;&#x6865;&#x7684; ip &#x5730;&#x5740;&#x4E3A;&#x5BB9;&#x5668;&#x7684;&#x9ED8;&#x8BA4;&#x7F51;&#x5173;&#x3002; </p>
<p>&#x67E5;&#x770B; docker0 &#x7F51;&#x6865;&#x4E0A;&#x7684;&#x63A5;&#x53E3;&#x4FE1;&#x606F;&#x3002;</p>
<pre class="language-"><code class="lang-bash"><span class="token punctuation">[</span>root@docker ~<span class="token punctuation">]</span><span class="token comment"># brctl show</span>
bridge name    bridge <span class="token function">id</span>        STP enabled    interfaces
docker0        <span class="token number">8000</span>.02429451522b    no        veth00b57b0
                            veth0bf3f4c
                            veth59d431c
<span class="token punctuation">[</span>root@docker ~<span class="token punctuation">]</span><span class="token comment">#</span>
</code></pre>
<p>&#x521B;&#x5EFA;&#x5BB9;&#x5668;&#x65F6;&#x4E0D;&#x6307;&#x5B9A;&#x7F51;&#x7EDC;&#x9A71;&#x52A8;&#x7A0B;&#x5E8F;&#xFF0C;&#x9ED8;&#x8BA4;&#x5C31;&#x662F; bridge &#x7F51;&#x7EDC;&#x7C7B;&#x578B;&#xFF0C;&#x4F46;&#x662F;&#x6211;&#x4EEC;&#x8FD8;&#x53EF;&#x4EE5;&#x521B;&#x5EFA;&#x81EA;&#x5B9A;&#x4E49;&#x7684; bridge &#x7F51;&#x7EDC;&#x7C7B;&#x578B;&#x3002;</p>
<pre class="language-"><code class="lang-bash"><span class="token punctuation">[</span>root@docker ~<span class="token punctuation">]</span><span class="token comment"># docker network create app</span>
0a4fd2947aa9dcf12786709bcce856421b33c7b2fdcc6175691be4d42cec0d07
<span class="token punctuation">[</span>root@docker ~<span class="token punctuation">]</span><span class="token comment"># docker network ls</span>
NETWORK ID     NAME      DRIVER    SCOPE
0a4fd2947aa9   app       bridge    <span class="token builtin class-name">local</span>
ef0a155fdde4   bridge    bridge    <span class="token builtin class-name">local</span>
c4fa50b15f43   <span class="token function">host</span>      <span class="token function">host</span>      <span class="token builtin class-name">local</span>
6a2c541b2e82   none      null      <span class="token builtin class-name">local</span>
</code></pre>
<p>&#x521B;&#x5EFA;&#x4E24;&#x4E2A;&#x5BB9;&#x5668;&#x5E76;&#x628A;&#x5B83;&#x4EEC;&#x52A0;&#x5165;&#x5230;&#x81EA;&#x5B9A;&#x4E49;&#x7684; app &#x7F51;&#x7EDC;&#xFF0C;-d &#x53C2;&#x6570;&#x53EF;&#x4EE5;&#x6307;&#x5B9A;&#x521B;&#x5EFA; bridge &#x6216;&#x8005; overlay &#x7F51;&#x7EDC;&#x7C7B;&#x578B;&#x3002;</p>
<pre class="language-"><code class="lang-bash"><span class="token punctuation">[</span>root@docker ~<span class="token punctuation">]</span><span class="token comment"># docker container run -itd --name &quot;app1&quot; --network app busybox</span>
f46be3d1f5ead467e2f7e8df05f72d73e6d3a3b3aaa2d34a49a5879a99fa53d1
<span class="token punctuation">[</span>root@docker ~<span class="token punctuation">]</span><span class="token comment"># docker container run -itd --name &quot;app2&quot; --network app busybox</span>
7c2b79e36244d79ad8e184d916ddba23fbb026b1bdc6e3c333d7110f705695de
<span class="token punctuation">[</span>root@docker ~<span class="token punctuation">]</span><span class="token comment">#</span>
</code></pre>
<p>&#x968F;&#x7740; Docker &#x7F51;&#x7EDC;&#x7684;&#x5B8C;&#x5584;&#xFF0C;&#x5EFA;&#x8BAE;&#x5927;&#x5BB6;&#x5C06;&#x5BB9;&#x5668;&#x52A0;&#x5165;&#x81EA;&#x5B9A;&#x4E49;&#x7684;&#x7F51;&#x7EDC;&#x6765;&#x8FDB;&#x884C;&#x8FDE;&#x63A5;&#x3002;&#x901A;&#x8FC7;&#x5728;&#x5BB9;&#x5668;&#x5185;&#x4F7F;&#x7528; ping &#x547D;&#x4EE4;&#x6765;&#x8BC1;&#x660E;&#x5BB9;&#x5668;&#x7F51;&#x7EDC;&#x7684;&#x4E92;&#x901A;&#x3002;</p>
<pre class="language-"><code class="lang-bash"><span class="token punctuation">[</span>root@docker ~<span class="token punctuation">]</span><span class="token comment"># docker ps -a</span>
CONTAINER ID   IMAGE     COMMAND   CREATED         STATUS         PORTS     NAMES
7c2b79e36244   busybox   <span class="token string">&quot;sh&quot;</span>      <span class="token number">4</span> minutes ago   Up <span class="token number">4</span> minutes             app2
f46be3d1f5ea   busybox   <span class="token string">&quot;sh&quot;</span>      <span class="token number">5</span> minutes ago   Up <span class="token number">5</span> minutes             app1
<span class="token punctuation">[</span>root@docker ~<span class="token punctuation">]</span><span class="token comment"># docker exec -it app1 sh</span>
/ <span class="token comment"># ping -c 3 app2</span>
PING app2 <span class="token punctuation">(</span><span class="token number">172.19</span>.0.3<span class="token punctuation">)</span>: <span class="token number">56</span> data bytes
<span class="token number">64</span> bytes from <span class="token number">172.19</span>.0.3: <span class="token assign-left variable">seq</span><span class="token operator">=</span><span class="token number">0</span> <span class="token assign-left variable">ttl</span><span class="token operator">=</span><span class="token number">64</span> <span class="token assign-left variable">time</span><span class="token operator">=</span><span class="token number">0.071</span> ms
<span class="token number">64</span> bytes from <span class="token number">172.19</span>.0.3: <span class="token assign-left variable">seq</span><span class="token operator">=</span><span class="token number">1</span> <span class="token assign-left variable">ttl</span><span class="token operator">=</span><span class="token number">64</span> <span class="token assign-left variable">time</span><span class="token operator">=</span><span class="token number">0.111</span> ms
<span class="token number">64</span> bytes from <span class="token number">172.19</span>.0.3: <span class="token assign-left variable">seq</span><span class="token operator">=</span><span class="token number">2</span> <span class="token assign-left variable">ttl</span><span class="token operator">=</span><span class="token number">64</span> <span class="token assign-left variable">time</span><span class="token operator">=</span><span class="token number">0.107</span> ms

--- app2 <span class="token function">ping</span> statistics ---
<span class="token number">3</span> packets transmitted, <span class="token number">3</span> packets received, <span class="token number">0</span>% packet loss
round-trip min/avg/max <span class="token operator">=</span> <span class="token number">0.071</span>/0.096/0.111 ms
/ <span class="token comment">#</span>
</code></pre>
<h3 id="host"><a name="host" class="anchor-navigation-ex-anchor" href="#host"><i class="fa fa-link" aria-hidden="true"></i></a>1.1.2. Host</h3>
<p>&#x5982;&#x679C;&#x5BB9;&#x5668;&#x4F7F;&#x7528; host &#x7F51;&#x7EDC;&#x7C7B;&#x578B;&#xFF0C;&#x5219;&#x5BB9;&#x5668;&#x7684;&#x7F51;&#x7EDC;&#x5806;&#x6808;&#x4E0D;&#x4F1A;&#x4E0E; Docker &#x4E3B;&#x673A;&#x9694;&#x79BB;&#xFF08;&#x5BB9;&#x5668;&#x5171;&#x4EAB;&#x4E3B;&#x673A;&#x7684;&#x7F51;&#x7EDC;&#x547D;&#x540D;&#x7A7A;&#x95F4;&#xFF09;&#x3002;&#x5E76;&#x4E14;&#x5BB9;&#x5668;&#x4E0D;&#x4F1A;&#x5206;&#x914D;&#x81EA;&#x5DF1;&#x7684; ip &#x5730;&#x5740;&#xFF0C;&#x800C;&#x662F;&#x4F7F;&#x7528;&#x5BBF;&#x4E3B;&#x673A;&#x7684; ip &#x548C;&#x7AEF;&#x53E3;&#xFF0C;&#x5BB9;&#x5668;&#x7684;&#x6587;&#x4EF6;&#x7CFB;&#x7EDF;&#x548C;&#x8FDB;&#x7A0B;&#x7B49;&#x8FD8;&#x662F;&#x548C;&#x5BBF;&#x4E3B;&#x673A;&#x9694;&#x79BB;&#x7684;&#x3002;</p>
<blockquote>
<p><strong>[info] &#x8BF4;&#x660E;</strong></p>
<p>&#x7531;&#x4E8E;&#x5BB9;&#x5668;&#x4F7F;&#x7528; host &#x7F51;&#x7EDC;&#x6A21;&#x5F0F;&#x6CA1;&#x6709;&#x4E3B;&#x673A;&#x7684; ip &#x5730;&#x5740;&#xFF0C;&#x7AEF;&#x53E3;&#x6620;&#x5C04;&#x4E0D;&#x4F1A;&#x751F;&#x6548;&#xFF0C;-p &#x548C; -P &#x53C2;&#x6570;&#x90FD;&#x4F1A;&#x88AB;&#x5FFD;&#x7565;&#x5E76;&#x4E14;&#x4EA7;&#x751F;&#x4E00;&#x4E2A;&#x9519;&#x8BEF;&#x8B66;&#x544A;&#xFF1A;WARNING: Published ports are discarded when using host network mode</p>
</blockquote>
<p>&#x521B;&#x5EFA;&#x4E00;&#x4E2A; nginx &#x5BB9;&#x5668;&#xFF0C;&#x53EF;&#x4EE5;&#x770B;&#x5230;&#x5BBF;&#x4E3B;&#x673A;&#x4E0A;&#x7684; 80 &#x7AEF;&#x53E3;&#x88AB;&#x5360;&#x7528;&#x4E86;&#x3002;</p>
<pre class="language-"><code class="lang-bash"><span class="token punctuation">[</span>root@docker ~<span class="token punctuation">]</span><span class="token comment"># docker container run -itd --name &quot;nginx&quot; --network=host nginx:1.20</span>
1a13399898af4d66758a0ec10f4f8e3d89cd21b15186c6cea9c161cca0d82b87
<span class="token punctuation">[</span>root@docker ~<span class="token punctuation">]</span><span class="token comment"># ps -ef | grep nginx</span>
root      <span class="token number">260249</span>  <span class="token number">260228</span>  <span class="token number">1</span> <span class="token number">14</span>:38 pts/0    00:00:00 nginx: master process nginx -g daemon off<span class="token punctuation">;</span>
systemd+  <span class="token number">260308</span>  <span class="token number">260249</span>  <span class="token number">0</span> <span class="token number">14</span>:38 pts/0    00:00:00 nginx: worker process
systemd+  <span class="token number">260309</span>  <span class="token number">260249</span>  <span class="token number">0</span> <span class="token number">14</span>:38 pts/0    00:00:00 nginx: worker process
root      <span class="token number">260313</span>  <span class="token number">112281</span>  <span class="token number">0</span> <span class="token number">14</span>:38 pts/1    00:00:00 <span class="token function">grep</span> --color<span class="token operator">=</span>auto nginx
<span class="token punctuation">[</span>root@docker ~<span class="token punctuation">]</span><span class="token comment"># netstat -lntup | grep 80</span>
tcp        <span class="token number">0</span>      <span class="token number">0</span> <span class="token number">0.0</span>.0.0:80              <span class="token number">0.0</span>.0.0:*               LISTEN      <span class="token number">260249</span>/nginx: maste
tcp6       <span class="token number">0</span>      <span class="token number">0</span> :::80                   :::*                    LISTEN      <span class="token number">260249</span>/nginx: maste
<span class="token punctuation">[</span>root@docker ~<span class="token punctuation">]</span><span class="token comment">#</span>
</code></pre>
<p>&#x4F7F;&#x7528; ps &#x547D;&#x4EE4;&#x53EF;&#x4EE5;&#x770B;&#x5230; nginx &#x8FDB;&#x7A0B;&#x7684;&#x7236;&#x8FDB;&#x7A0B;&#x662F; containerd-shim&#xFF0C;&#x8FD9;&#x4E5F;&#x8BC1;&#x5B9E;&#x4E86; nginx &#x8FDB;&#x7A0B;&#x662F;&#x5BB9;&#x5668;&#x5185;&#x7684;&#x3002;</p>
<pre class="language-"><code class="lang-bash"><span class="token punctuation">[</span>root@docker ~<span class="token punctuation">]</span><span class="token comment"># ps -axf | grep containerd-shim -A 1</span>
 <span class="token number">260701</span> pts/1    S+     <span class="token number">0</span>:00      <span class="token punctuation">\</span>_ <span class="token function">grep</span> --color<span class="token operator">=</span>auto containerd-shim -A <span class="token number">1</span>
 <span class="token number">260228</span> ?        Sl     <span class="token number">0</span>:00 /usr/bin/containerd-shim-runc-v2 -namespace moby -id 1a13399898af4d66758a0ec10f4f8e3d89cd21b15186c6cea9c161cca0d82b87 -address /run/containerd/containerd.sock
 <span class="token number">260249</span> pts/0    Ss+    <span class="token number">0</span>:00  <span class="token punctuation">\</span>_ nginx: master process nginx -g daemon off<span class="token punctuation">;</span>
<span class="token punctuation">[</span>root@docker ~<span class="token punctuation">]</span><span class="token comment">#</span>
</code></pre>
<p>&#x8FDB;&#x5165;&#x5BB9;&#x5668;&#x5185;&#x90E8;&#x67E5;&#x770B;&#x7F51;&#x5361;&#x4FE1;&#x606F;&#x4F1A;&#x770B;&#x5230;&#x5BBF;&#x4E3B;&#x673A;&#x7684;&#x7F51;&#x5361;&#xFF0C;&#x8FD9;&#x662F;&#x56E0;&#x4E3A;&#x5BB9;&#x5668;&#x5171;&#x4EAB;&#x4E86;&#x5BBF;&#x4E3B;&#x673A;&#x7F51;&#x7EDC;&#x5806;&#x6808;&#x3002;</p>
<pre class="language-"><code class="lang-bash"><span class="token punctuation">[</span>root@docker ~<span class="token punctuation">]</span><span class="token comment"># docker container run -itd --name &quot;busybox&quot; --network=host busybox</span>
ad4634aa3d4d52b7ccd086359fe20e0fe5abae5527ac6a78064a0c308dde8f09
<span class="token punctuation">[</span>root@docker ~<span class="token punctuation">]</span><span class="token comment"># docker exec -it busybox /bin/sh</span>
/ <span class="token comment"># ip a</span>
<span class="token number">1</span>: lo: <span class="token operator">&lt;</span>LOOPBACK,UP,LOWER_UP<span class="token operator">&gt;</span> mtu <span class="token number">65536</span> qdisc noqueue qlen <span class="token number">1000</span>
    link/loopback 00:00:00:00:00:00 brd 00:00:00:00:00:00
    inet <span class="token number">127.0</span>.0.1/8 scope <span class="token function">host</span> lo
       valid_lft forever preferred_lft forever
    inet6 ::1/128 scope <span class="token function">host</span>
       valid_lft forever preferred_lft forever
<span class="token number">2</span>: ens33: <span class="token operator">&lt;</span>BROADCAST,MULTICAST,UP,LOWER_UP<span class="token operator">&gt;</span> mtu <span class="token number">1500</span> qdisc fq_codel qlen <span class="token number">1000</span>
    link/ether 00:0c:29:f9:6d:2f brd ff:ff:ff:ff:ff:ff
    inet <span class="token number">10.10</span>.110.31/24 brd <span class="token number">10.10</span>.110.255 scope global ens33
       valid_lft forever preferred_lft forever
    inet6 fe80::20c:29ff:fef9:6d2f/64 scope <span class="token function">link</span>
       valid_lft forever preferred_lft forever
<span class="token number">3</span>: docker0: <span class="token operator">&lt;</span>NO-CARRIER,BROADCAST,MULTICAST,UP<span class="token operator">&gt;</span> mtu <span class="token number">1500</span> qdisc noqueue
    link/ether 02:42:94:51:52:2b brd ff:ff:ff:ff:ff:ff
    inet <span class="token number">172.17</span>.0.1/16 brd <span class="token number">172.17</span>.255.255 scope global docker0
       valid_lft forever preferred_lft forever
    inet6 fe80::42:94ff:fe51:522b/64 scope <span class="token function">link</span>
       valid_lft forever preferred_lft forever
<span class="token number">15</span>: br-0a4fd2947aa9: <span class="token operator">&lt;</span>NO-CARRIER,BROADCAST,MULTICAST,UP<span class="token operator">&gt;</span> mtu <span class="token number">1500</span> qdisc noqueue
    link/ether 02:42:f8:6b:79:d0 brd ff:ff:ff:ff:ff:ff
    inet <span class="token number">172.19</span>.0.1/16 brd <span class="token number">172.19</span>.255.255 scope global br-0a4fd2947aa9
       valid_lft forever preferred_lft forever
    inet6 fe80::42:f8ff:fe6b:79d0/64 scope <span class="token function">link</span>
       valid_lft forever preferred_lft forever
/ <span class="token comment">#</span>
</code></pre>
<h3 id="container"><a name="container" class="anchor-navigation-ex-anchor" href="#container"><i class="fa fa-link" aria-hidden="true"></i></a>1.1.3. Container</h3>
<p>&#x521B;&#x5EFA;&#x65B0;&#x5BB9;&#x5668;&#x65F6;&#x6307;&#x5B9A;&#x548C;&#x4E00;&#x4E2A;&#x5DF2;&#x5B58;&#x5728;&#x7684;&#x5BB9;&#x5668;&#x5171;&#x4EAB;&#x4E00;&#x4E2A;&#x7F51;&#x7EDC;&#x547D;&#x540D;&#x7A7A;&#x95F4;&#xFF0C;&#x8FD9;&#x4E0E;&#x5BBF;&#x4E3B;&#x673A;&#x7684;&#x7F51;&#x7EDC;&#x547D;&#x540D;&#x7A7A;&#x95F4;&#x65E0;&#x5173;&#x3002;&#x65B0;&#x5BB9;&#x5668;&#x4E0D;&#x4F1A;&#x521B;&#x5EFA;&#x81EA;&#x5DF1;&#x7684;&#x7F51;&#x5361;&#x548C; ip &#x5730;&#x5740;&#xFF0C;&#x800C;&#x662F;&#x5171;&#x4EAB;&#x5DF2;&#x5B58;&#x5728;&#x5BB9;&#x5668;&#x7684;&#x7F51;&#x5361;&#x3001;ip&#x3001;&#x7AEF;&#x53E3;&#x7B49;&#x3002;&#x4F46;&#x662F;&#x9664;&#x4E86;&#x7F51;&#x7EDC;&#x73AF;&#x5883;&#x4E4B;&#x5916;&#xFF0C;&#x5176;&#x4ED6;&#x7684;&#x8D44;&#x6E90;&#x4F8B;&#x5982;&#x6587;&#x4EF6;&#x7CFB;&#x7EDF;&#x548C;&#x8FDB;&#x7A0B;&#x7B49;&#x8FD8;&#x662F;&#x9694;&#x79BB;&#x7684;&#xFF0C;&#x8FD9;&#x5C31;&#x662F; container &#x7F51;&#x7EDC;&#x7C7B;&#x578B;&#x3002;</p>
<p>&#x521B;&#x5EFA;&#x4E00;&#x4E2A; busybox &#x5BB9;&#x5668;&#xFF0C;&#x7528;&#x4E8E;&#x7ED9;&#x5176;&#x4ED6;&#x5BB9;&#x5668;&#x5171;&#x4EAB;&#x7F51;&#x7EDC;&#x547D;&#x540D;&#x7A7A;&#x95F4;&#x3002;</p>
<pre class="language-"><code class="lang-bash"><span class="token punctuation">[</span>root@docker ~<span class="token punctuation">]</span><span class="token comment"># docker container run -itd --name &apos;busybox&apos; busybox</span>
471accba2c3fef25da6a617417b8c84fb38c860aa49a4e9287dcbacd111b73f2
<span class="token punctuation">[</span>root@docker ~<span class="token punctuation">]</span><span class="token comment">#</span>
</code></pre>
<p>&#x521B;&#x5EFA;&#x65B0;&#x7684;&#x5BB9;&#x5668;&#xFF0C;&#x6307;&#x5B9A;&#x65B0;&#x7684;&#x5BB9;&#x5668;&#x5171;&#x4EAB;&#x524D;&#x9762;&#x521B;&#x5EFA;&#x7684; busybox &#x5BB9;&#x5668;&#x7684;&#x7F51;&#x7EDC;&#x547D;&#x540D;&#x7A7A;&#x95F4;&#x3002;</p>
<pre class="language-"><code class="lang-bash"><span class="token punctuation">[</span>root@docker ~<span class="token punctuation">]</span><span class="token comment"># docker container run -itd --network=container:busybox --name &apos;busybox-1&apos; busybox</span>
a1e6999c17e35a7ea32c9886f3f708985a50a8c1b8b1bc36b790b10a9db98d59
<span class="token punctuation">[</span>root@docker ~<span class="token punctuation">]</span><span class="token comment"># docker container run -itd --network=container:busybox --name &apos;busybox-2&apos; busybox</span>
867915a468489dd356efbe0c1ea22430df3dd026b74267caa7576b3eec298f67
<span class="token punctuation">[</span>root@docker ~<span class="token punctuation">]</span><span class="token comment">#</span>
</code></pre>
<p>&#x5171;&#x4EAB; busybox &#x5BB9;&#x5668;&#x7F51;&#x7EDC;&#x547D;&#x540D;&#x7A7A;&#x95F4;&#x7684; busybox-1 &#x548C; busybox-2 &#x5BB9;&#x5668;&#xFF0C;ip &#x7684;&#x503C;&#x4E3A; \<no value="">&#xFF0C;&#x5176;&#x5B9E;&#x5BB9;&#x5668;&#x5185;&#x7684; ip &#x5730;&#x5740;&#x662F;&#x548C; busybox &#x5BB9;&#x5668;&#x4E00;&#x6837;&#x7684;&#x3002;</no></p>
<pre class="language-"><code class="lang-bash"><span class="token punctuation">[</span>root@docker ~<span class="token punctuation">]</span><span class="token comment"># docker inspect --format=&apos;{{.NetworkSettings.Networks.bridge.IPAddress}}&apos; busybox</span>
<span class="token number">172.17</span>.0.2
<span class="token punctuation">[</span>root@docker ~<span class="token punctuation">]</span><span class="token comment"># docker inspect --format=&apos;{{.NetworkSettings.Networks.bridge.IPAddress}}&apos; busybox-1</span>
<span class="token operator">&lt;</span>no value<span class="token operator">&gt;</span>
<span class="token punctuation">[</span>root@docker ~<span class="token punctuation">]</span><span class="token comment"># docker inspect --format=&apos;{{.NetworkSettings.Networks.bridge.IPAddress}}&apos; busybox-2</span>
<span class="token operator">&lt;</span>no value<span class="token operator">&gt;</span>
<span class="token punctuation">[</span>root@docker ~<span class="token punctuation">]</span><span class="token comment">#</span>

<span class="token punctuation">[</span>root@docker ~<span class="token punctuation">]</span><span class="token comment"># docker container exec -it busybox ifconfig eth0</span>
eth0      Link encap:Ethernet  HWaddr 02:42:AC:11:00:02
          inet addr:172.17.0.2  Bcast:172.17.255.255  Mask:255.255.0.0
          UP BROADCAST RUNNING MULTICAST  MTU:1500  Metric:1
          RX packets:120 errors:0 dropped:0 overruns:0 frame:0
          TX packets:0 errors:0 dropped:0 overruns:0 carrier:0
          collisions:0 txqueuelen:0
          RX bytes:8672 <span class="token punctuation">(</span><span class="token number">8.4</span> KiB<span class="token punctuation">)</span>  TX bytes:0 <span class="token punctuation">(</span><span class="token number">0.0</span> B<span class="token punctuation">)</span>

<span class="token punctuation">[</span>root@docker ~<span class="token punctuation">]</span><span class="token comment"># docker container exec -it busybox-1 ifconfig eth0</span>
eth0      Link encap:Ethernet  HWaddr 02:42:AC:11:00:02
          inet addr:172.17.0.2  Bcast:172.17.255.255  Mask:255.255.0.0
          UP BROADCAST RUNNING MULTICAST  MTU:1500  Metric:1
          RX packets:120 errors:0 dropped:0 overruns:0 frame:0
          TX packets:0 errors:0 dropped:0 overruns:0 carrier:0
          collisions:0 txqueuelen:0
          RX bytes:8672 <span class="token punctuation">(</span><span class="token number">8.4</span> KiB<span class="token punctuation">)</span>  TX bytes:0 <span class="token punctuation">(</span><span class="token number">0.0</span> B<span class="token punctuation">)</span>

<span class="token punctuation">[</span>root@docker ~<span class="token punctuation">]</span><span class="token comment"># docker container exec -it busybox-2 ifconfig eth0</span>
eth0      Link encap:Ethernet  HWaddr 02:42:AC:11:00:02
          inet addr:172.17.0.2  Bcast:172.17.255.255  Mask:255.255.0.0
          UP BROADCAST RUNNING MULTICAST  MTU:1500  Metric:1
          RX packets:120 errors:0 dropped:0 overruns:0 frame:0
          TX packets:0 errors:0 dropped:0 overruns:0 carrier:0
          collisions:0 txqueuelen:0
          RX bytes:8672 <span class="token punctuation">(</span><span class="token number">8.4</span> KiB<span class="token punctuation">)</span>  TX bytes:0 <span class="token punctuation">(</span><span class="token number">0.0</span> B<span class="token punctuation">)</span>
<span class="token punctuation">[</span>root@docker ~<span class="token punctuation">]</span><span class="token comment">#</span>
</code></pre>
<h3 id="none"><a name="none" class="anchor-navigation-ex-anchor" href="#none"><i class="fa fa-link" aria-hidden="true"></i></a>1.1.4. None</h3>
<p>none &#x6A21;&#x5F0F;&#x4F1A;&#x4F7F;&#x5BB9;&#x5668;&#x62E5;&#x6709;&#x72EC;&#x7ACB;&#x7684; network namespace&#xFF0C;&#x5C31;&#x662F;&#x4E0D;&#x4E3A; Docker &#x5BB9;&#x5668;&#x8FDB;&#x884C;&#x4EFB;&#x4F55;&#x7F51;&#x7EDC;&#x914D;&#x7F6E;&#x3002;&#x5BB9;&#x5668;&#x5185;&#x90E8;&#x53EA;&#x6709; loopback &#x7F51;&#x7EDC;&#x8BBE;&#x5907;&#xFF0C;&#x8FD9;&#x5C06;&#x7F51;&#x7EDC;&#x521B;&#x5EFA;&#x7684;&#x8D23;&#x4EFB;&#x5B8C;&#x5168;&#x4EA4;&#x7ED9;&#x7528;&#x6237;&#x3002;Docker &#x5F00;&#x53D1;&#x8005;&#x53EF;&#x4EE5;&#x5728;&#x8FD9;&#x57FA;&#x7840;&#x4E0A;&#x505A;&#x51FA;&#x66F4;&#x591A;&#x7684;&#x7F51;&#x7EDC;&#x5B9A;&#x5236;&#xFF0C;&#x8FD9;&#x79CD;&#x65B9;&#x5F0F;&#x53EF;&#x4EE5;&#x5B9E;&#x73B0;&#x66F4;&#x52A0;&#x7075;&#x6D3B;&#x590D;&#x6742;&#x7684;&#x7F51;&#x7EDC;&#x3002;</p>
<pre class="language-"><code class="lang-bash"><span class="token punctuation">[</span>root@docker ~<span class="token punctuation">]</span><span class="token comment"># docker container run -it --network=none --name &apos;busybox-3&apos; busybox</span>
/ <span class="token comment"># ifconfig -a</span>
lo        Link encap:Local Loopback
          inet addr:127.0.0.1  Mask:255.0.0.0
          UP LOOPBACK RUNNING  MTU:65536  Metric:1
          RX packets:0 errors:0 dropped:0 overruns:0 frame:0
          TX packets:0 errors:0 dropped:0 overruns:0 carrier:0
          collisions:0 txqueuelen:1000
          RX bytes:0 <span class="token punctuation">(</span><span class="token number">0.0</span> B<span class="token punctuation">)</span>  TX bytes:0 <span class="token punctuation">(</span><span class="token number">0.0</span> B<span class="token punctuation">)</span>

/ <span class="token comment">#</span>
</code></pre>
<h2 id="flannel-&#x5B9E;&#x73B0;-docker-&#x8DE8;&#x4E3B;&#x673A;&#x901A;&#x4FE1;"><a name="flannel-&#x5B9E;&#x73B0;-docker-&#x8DE8;&#x4E3B;&#x673A;&#x901A;&#x4FE1;" class="anchor-navigation-ex-anchor" href="#flannel-&#x5B9E;&#x73B0;-docker-&#x8DE8;&#x4E3B;&#x673A;&#x901A;&#x4FE1;"><i class="fa fa-link" aria-hidden="true"></i></a>1.2. Flannel &#x5B9E;&#x73B0; Docker &#x8DE8;&#x4E3B;&#x673A;&#x901A;&#x4FE1;</h2>
<p>flannel &#x662F;&#x4E00;&#x79CD;&#x57FA;&#x4E8E; overlay &#x7F51;&#x7EDC;&#x7684;&#x8DE8;&#x4E3B;&#x673A;&#x5BB9;&#x5668;&#x7F51;&#x7EDC;&#x89E3;&#x51B3;&#x65B9;&#x6848;&#x3002;&#x5C31;&#x662F;&#x5C06; TCP &#x6570;&#x636E;&#x5305;&#x5C01;&#x88C5;&#x5728;&#x53E6;&#x4E00;&#x79CD;&#x7F51;&#x7EDC;&#x5305;&#x91CC;&#x9762;&#x8FDB;&#x884C;&#x8DEF;&#x7531;&#x8F6C;&#x53D1;&#x548C;&#x901A;&#x4FE1;&#xFF0C;flannel &#x662F; CoreOS &#x56E2;&#x961F;&#x9488;&#x5BF9; Kubernetes &#x8BBE;&#x8BA1;&#x7684;&#x4E00;&#x4E2A;&#x7F51;&#x7EDC;&#x89C4;&#x5212;&#x670D;&#x52A1;&#xFF0C;&#x8BA9;&#x96C6;&#x7FA4;&#x4E2D;&#x7684;&#x4E0D;&#x540C;&#x8282;&#x70B9;&#x4E3B;&#x673A;&#x521B;&#x5EFA;&#x7684;&#x5BB9;&#x5668;&#x90FD;&#x5177;&#x6709;&#x5168;&#x96C6;&#x7FA4;&#x552F;&#x4E00;&#x7684;&#x865A;&#x62DF; ip &#x5730;&#x5740;&#xFF0C;flannel &#x4F7F;&#x7528; go &#x8BED;&#x8A00;&#x7F16;&#x5199;&#x3002;</p>
<p>flannel &#x4E3A;&#x6BCF;&#x4E2A; host &#x5206;&#x914D;&#x4E00;&#x4E2A; subnet&#xFF0C;&#x5BB9;&#x5668;&#x4ECE;&#x8FD9;&#x4E2A; subnet &#x4E2D;&#x5206;&#x914D; ip&#xFF0C;&#x8FD9;&#x4E9B; ip &#x53EF;&#x4EE5;&#x5728; host &#x95F4;&#x8DEF;&#x7531;&#xFF0C;&#x5BB9;&#x5668;&#x95F4;&#x65E0;&#x9700;&#x4F7F;&#x7528; nat &#x548C;&#x7AEF;&#x53E3;&#x6620;&#x5C04;&#x5373;&#x53EF;&#x5B9E;&#x73B0;&#x8DE8;&#x4E3B;&#x673A;&#x901A;&#x4FE1;&#x3002;&#x6BCF;&#x4E2A; subnet &#x90FD;&#x662F;&#x4ECE;&#x4E00;&#x4E2A;&#x66F4;&#x5927;&#x7684; ip &#x6C60;&#x4E2D;&#x5212;&#x5206;&#x7684;&#xFF0C;flannel &#x4F1A;&#x5728;&#x6BCF;&#x4E2A;&#x4E3B;&#x673A;&#x4E0A;&#x8FD0;&#x884C;&#x4E00;&#x4E2A;&#x53EB; flanneld &#x7684; agent&#xFF0C;&#x5176;&#x804C;&#x8D23;&#x5C31;&#x662F;&#x4ECE; ip &#x6C60;&#x4E2D;&#x5206;&#x914D; subnet&#x3002;etcd &#x76F8;&#x5F53;&#x4E8E;&#x4E00;&#x4E2A;&#x6570;&#x636E;&#x5E93;&#xFF0C;flannel &#x4F7F;&#x7528; etcd &#x5B58;&#x653E;&#x7F51;&#x7EDC;&#x914D;&#x7F6E;&#x548C;&#x5DF2;&#x5206;&#x914D;&#x7684; subnet&#x3001;host&#x3001;ip &#x7B49;&#x4FE1;&#x606F;&#x3002;&#x8FD9;&#x5C31;&#x662F; flannel &#x7684;&#x539F;&#x7406;&#x3002;</p>
<table>
<thead>
<tr>
<th>node</th>
<th>software</th>
<th>Operating System</th>
<th>docker version</th>
</tr>
</thead>
<tbody>
<tr>
<td>10.10.110.31(master)</td>
<td>etcd&#x3001;flannel&#x3001;docker</td>
<td>Ubuntu 20.04.3 LTS</td>
<td>19.03.12</td>
</tr>
<tr>
<td>10.10.110.32(slave)</td>
<td>flannel&#x3001;docker</td>
<td>Ubuntu 20.04.3 LTS</td>
<td>19.03.12</td>
</tr>
</tbody>
</table>
<p>master &#x8282;&#x70B9;&#x5B89;&#x88C5; etcd</p>
<pre class="language-"><code class="lang-bash">root@docker1:~<span class="token comment"># apt install -y etcd</span>

root@docker1:~<span class="token comment"># vim /etc/default/etcd # &#x4FEE;&#x6539; master &#x9ED8;&#x8BA4;&#x7684; 127.0.0.1 &#x5730;&#x5740;&#x4EE5;&#x4F9B; slave &#x8282;&#x70B9;&#x8BBF;&#x95EE; etcd</span>
<span class="token assign-left variable">ETCD_LISTEN_CLIENT_URLS</span><span class="token operator">=</span><span class="token string">&quot;http://10.10.110.8:2379&quot;</span>
<span class="token assign-left variable">ETCD_ADVERTISE_CLIENT_URLS</span><span class="token operator">=</span><span class="token string">&quot;http://10.10.110.8:2379&quot;</span>

root@docker1:~<span class="token comment"># systemctl restart etcd</span>
root@docker1:~<span class="token comment"># netstat -lntup | grep 2379</span>
tcp        <span class="token number">0</span>      <span class="token number">0</span> <span class="token number">10.10</span>.110.8:2379        <span class="token number">0.0</span>.0.0:*               LISTEN      <span class="token number">95984</span>/etcd

<span class="token comment"># &#x914D;&#x7F6E; etcd &#x7684;&#x5B50;&#x7F51;&#x5FC5;&#x987B;&#x6307;&#x5B9A;&#x4F7F;&#x7528; V2 &#x7248;&#x672C;&#x56E0;&#x4E3A; flannel &#x76EE;&#x524D;&#x4E0D;&#x652F;&#x6301; etcd V3 &#x7248;&#x672C;</span>
<span class="token assign-left variable">ETCDCTL_API</span><span class="token operator">=</span><span class="token number">2</span> etcdctl --endpoints<span class="token operator">=</span><span class="token string">&quot;http://10.10.110.8:2379&quot;</span> <span class="token builtin class-name">set</span> /atomic.io/network/config <span class="token string">&apos;{ &quot;Network&quot;:&quot;172.17.0.0/16&quot;, &quot;Backend&quot;: {&quot;Type&quot;: &quot;vxlan&quot;}} &apos;</span>
</code></pre>
<p>master &#x8282;&#x70B9;&#x5B89;&#x88C5; flannel</p>
<pre class="language-"><code class="lang-bash">root@docker1:~<span class="token comment"># apt install -y flannel</span>

root@docker1:~<span class="token comment"># cat &gt; /etc/systemd/system/flanneld.service &lt;&lt; EOF</span>
<span class="token punctuation">[</span>Unit<span class="token punctuation">]</span>
<span class="token assign-left variable">Description</span><span class="token operator">=</span>Flanneld overlay address etcd agent
<span class="token assign-left variable">After</span><span class="token operator">=</span>network.target
<span class="token assign-left variable">After</span><span class="token operator">=</span>network-online.target
<span class="token assign-left variable">Wants</span><span class="token operator">=</span>network-online.target
<span class="token assign-left variable">After</span><span class="token operator">=</span>etcd.service
<span class="token assign-left variable">Before</span><span class="token operator">=</span>docker.service

<span class="token punctuation">[</span>Service<span class="token punctuation">]</span>
<span class="token assign-left variable">Type</span><span class="token operator">=</span>notify
<span class="token assign-left variable">ExecStart</span><span class="token operator">=</span>/usr/bin/flannel --etcd-endpoints<span class="token operator">=</span>http://10.10.110.8:2379 --etcd-prefix<span class="token operator">=</span>/atomic.io/network/ --iface<span class="token operator">=</span>ens33
<span class="token assign-left variable">Restart</span><span class="token operator">=</span>on-failure

<span class="token punctuation">[</span>Install<span class="token punctuation">]</span>
<span class="token assign-left variable">WantedBy</span><span class="token operator">=</span>multi-user.target
<span class="token assign-left variable">RequiredBy</span><span class="token operator">=</span>docker.service
EOF

root@docker1:~<span class="token comment"># systemctl start flanneld.service</span>
</code></pre>
<p>slave &#x8282;&#x70B9;&#x5B89;&#x88C5; flannel</p>
<pre class="language-"><code class="lang-bash">root@docker1:~<span class="token comment"># apt install -y flannel</span>

root@docker1:~<span class="token comment"># cat &gt; /etc/systemd/system/flanneld.service &lt;&lt; EOF</span>
<span class="token punctuation">[</span>Unit<span class="token punctuation">]</span>
<span class="token assign-left variable">Description</span><span class="token operator">=</span>Flanneld overlay address etcd agent
<span class="token assign-left variable">After</span><span class="token operator">=</span>network.target
<span class="token assign-left variable">After</span><span class="token operator">=</span>network-online.target
<span class="token assign-left variable">Wants</span><span class="token operator">=</span>network-online.target
<span class="token assign-left variable">After</span><span class="token operator">=</span>etcd.service
<span class="token assign-left variable">Before</span><span class="token operator">=</span>docker.service

<span class="token punctuation">[</span>Service<span class="token punctuation">]</span>
<span class="token assign-left variable">Type</span><span class="token operator">=</span>notify
<span class="token assign-left variable">ExecStart</span><span class="token operator">=</span>/usr/bin/flannel --etcd-endpoints<span class="token operator">=</span>http://10.10.110.8:2379 --etcd-prefix<span class="token operator">=</span>/atomic.io/network/ --iface<span class="token operator">=</span>ens33 <span class="token comment"># slave &#x4E5F;&#x662F;&#x8FDE;&#x63A5;&#x5230; master &#x7684; etcd</span>
<span class="token assign-left variable">Restart</span><span class="token operator">=</span>on-failure

<span class="token punctuation">[</span>Install<span class="token punctuation">]</span>
<span class="token assign-left variable">WantedBy</span><span class="token operator">=</span>multi-user.target
<span class="token assign-left variable">RequiredBy</span><span class="token operator">=</span>docker.service
EOF

root@docker1:~<span class="token comment"># systemctl start flanneld.service</span>
</code></pre>
<p>&#x914D;&#x7F6E; docker &#x4F7F;&#x7528; flannel &#x7F51;&#x7EDC;&#xFF0C;master &#x548C; slave &#x90FD;&#x9700;&#x8981;&#x8FDB;&#x884C;&#x914D;&#x7F6E;&#x8BA9; flannel &#x7BA1;&#x7406; docker &#x7684;&#x7F51;&#x7EDC;</p>
<pre class="language-"><code class="lang-bash"><span class="token function">vim</span> /lib/systemd/system/docker.service
<span class="token assign-left variable">EnvironmentFile</span><span class="token operator">=</span>/run/flannel/docker <span class="token comment"># &#x52A0;&#x8F7D;&#x8FD9;&#x4E2A;&#x6587;&#x4EF6;&#x91CC;&#x9762;&#x7684;&#x53D8;&#x91CF;,&#x8FD9;&#x4E2A;&#x6587;&#x4EF6;&#x8BB0;&#x5F55;&#x4E86; flannel &#x5206;&#x914D;&#x7684;&#x5B50;&#x7F51;&#x4FE1;&#x606F;</span>
<span class="token assign-left variable">ExecStart</span><span class="token operator">=</span>/usr/bin/dockerd -H fd:// --containerd<span class="token operator">=</span>/run/containerd/containerd.sock <span class="token variable">$DOCKER_NETWORK_OPTIONS</span> <span class="token comment"># &#x4F7F;&#x7528;&#x4E0A;&#x9762;&#x6587;&#x4EF6;&#x7684;&#x53D8;&#x91CF;,&#x542F;&#x52A8;&#x5BB9;&#x5668;&#x65F6;&#x6307;&#x5B9A;&#x4F7F;&#x7528; flannel &#x5206;&#x914D;&#x7684;&#x5B50;&#x7F51;&#x53BB;&#x914D;&#x7F6E;&#x5BB9;&#x5668;&#x7684;&#x7F51;&#x7EDC;</span>

iptables -P FORWARD ACCEPT
systemctl daemon-reload
systemctl restart flanneld.service
systemctl restart docker.service
</code></pre>
<p>&#x5982;&#x679C;&#x6CA1;&#x6709; /run/flannel/docker &#x8FD9;&#x4E2A;&#x6587;&#x4EF6;&#xFF0C;&#x53EF;&#x4EE5;&#x4F7F;&#x7528; <a href="https://github.com/flannel-io/flannel/blob/master/dist/mk-docker-opts.sh" target="_blank">mk-docker-opts.sh</a> -k DOCKER_NETWORK_OPTIONS -d /run/flannel/docker &#x547D;&#x4EE4;&#x751F;&#x6210;&#x3002;</p>
<pre class="language-"><code class="lang-bash"><span class="token comment"># docker0 &#x7F51;&#x5361;&#x7684;&#x7F51;&#x6BB5;&#x53D8;&#x6210;&#x4E86; flannel.1 &#x7F51;&#x5361;&#x7684;&#x5B50;&#x7F51;&#x65F6;&#xFF0C;&#x5C31;&#x8BF4;&#x660E;&#x914D;&#x7F6E;&#x6210;&#x529F;</span>

root@docker1:~<span class="token comment"># ip a s docker0</span>
<span class="token number">3</span>: docker0: <span class="token operator">&lt;</span>NO-CARRIER,BROADCAST,MULTICAST,UP<span class="token operator">&gt;</span> mtu <span class="token number">1500</span> qdisc noqueue state DOWN group default
    link/ether 02:42:6d:41:48:2a brd ff:ff:ff:ff:ff:ff
    inet <span class="token number">172.17</span>.19.1/24 brd <span class="token number">172.17</span>.19.255 scope global docker0
       valid_lft forever preferred_lft forever
root@docker1:~<span class="token comment"># ip a s flannel.1</span>
<span class="token number">4</span>: flannel.1: <span class="token operator">&lt;</span>BROADCAST,MULTICAST,UP,LOWER_UP<span class="token operator">&gt;</span> mtu <span class="token number">1450</span> qdisc noqueue state UNKNOWN group default
    link/ether 3e:f4:3d:f3:0d:4d brd ff:ff:ff:ff:ff:ff
    inet <span class="token number">172.17</span>.19.0/32 scope global flannel.1
       valid_lft forever preferred_lft forever
    inet6 fe80::3cf4:3dff:fef3:d4d/64 scope <span class="token function">link</span>
       valid_lft forever preferred_lft forever
root@docker1:~<span class="token comment">#</span>

root@docker2:~<span class="token comment"># ip a s docker0</span>
<span class="token number">3</span>: docker0: <span class="token operator">&lt;</span>NO-CARRIER,BROADCAST,MULTICAST,UP<span class="token operator">&gt;</span> mtu <span class="token number">1500</span> qdisc noqueue state DOWN group default
    link/ether 02:42:4c:d8:64:b0 brd ff:ff:ff:ff:ff:ff
    inet <span class="token number">172.17</span>.71.1/24 brd <span class="token number">172.17</span>.71.255 scope global docker0
       valid_lft forever preferred_lft forever
root@docker2:~<span class="token comment"># ip a s flannel.1</span>
<span class="token number">4</span>: flannel.1: <span class="token operator">&lt;</span>BROADCAST,MULTICAST,UP,LOWER_UP<span class="token operator">&gt;</span> mtu <span class="token number">1450</span> qdisc noqueue state UNKNOWN group default
    link/ether <span class="token number">12</span>:0e:69:a9:8d:09 brd ff:ff:ff:ff:ff:ff
    inet <span class="token number">172.17</span>.71.0/32 scope global flannel.1
       valid_lft forever preferred_lft forever
    inet6 fe80::100e:69ff:fea9:8d09/64 scope <span class="token function">link</span>
       valid_lft forever preferred_lft forever
root@docker2:~<span class="token comment">#</span>
</code></pre>
<p>&#x5206;&#x522B;&#x5728; master &#x8282;&#x70B9;&#x548C; slave &#x8282;&#x70B9;&#x521B;&#x5EFA;&#x5BB9;&#x5668;&#x8FDB;&#x884C;&#x9A8C;&#x8BC1;&#x3002;</p>
<pre class="language-"><code class="lang-bash">root@docker1:~<span class="token comment"># docker run -it busybox sh</span>
/ <span class="token comment"># ifconfig</span>
eth0      Link encap:Ethernet  HWaddr 02:42:AC:11:13:02
          inet addr:172.17.19.2  Bcast:172.17.19.255  Mask:255.255.255.0
          UP BROADCAST RUNNING MULTICAST  MTU:1450  Metric:1
          RX packets:8 errors:0 dropped:0 overruns:0 frame:0
          TX packets:0 errors:0 dropped:0 overruns:0 carrier:0
          collisions:0 txqueuelen:0
          RX bytes:736 <span class="token punctuation">(</span><span class="token number">736.0</span> B<span class="token punctuation">)</span>  TX bytes:0 <span class="token punctuation">(</span><span class="token number">0.0</span> B<span class="token punctuation">)</span>

lo        Link encap:Local Loopback
          inet addr:127.0.0.1  Mask:255.0.0.0
          UP LOOPBACK RUNNING  MTU:65536  Metric:1
          RX packets:0 errors:0 dropped:0 overruns:0 frame:0
          TX packets:0 errors:0 dropped:0 overruns:0 carrier:0
          collisions:0 txqueuelen:1000
          RX bytes:0 <span class="token punctuation">(</span><span class="token number">0.0</span> B<span class="token punctuation">)</span>  TX bytes:0 <span class="token punctuation">(</span><span class="token number">0.0</span> B<span class="token punctuation">)</span>

/ <span class="token comment"># ping -c3 172.17.71.2</span>
PING <span class="token number">172.17</span>.71.2 <span class="token punctuation">(</span><span class="token number">172.17</span>.71.2<span class="token punctuation">)</span>: <span class="token number">56</span> data bytes
<span class="token number">64</span> bytes from <span class="token number">172.17</span>.71.2: <span class="token assign-left variable">seq</span><span class="token operator">=</span><span class="token number">0</span> <span class="token assign-left variable">ttl</span><span class="token operator">=</span><span class="token number">62</span> <span class="token assign-left variable">time</span><span class="token operator">=</span><span class="token number">0.720</span> ms
<span class="token number">64</span> bytes from <span class="token number">172.17</span>.71.2: <span class="token assign-left variable">seq</span><span class="token operator">=</span><span class="token number">1</span> <span class="token assign-left variable">ttl</span><span class="token operator">=</span><span class="token number">62</span> <span class="token assign-left variable">time</span><span class="token operator">=</span><span class="token number">0.810</span> ms
<span class="token number">64</span> bytes from <span class="token number">172.17</span>.71.2: <span class="token assign-left variable">seq</span><span class="token operator">=</span><span class="token number">2</span> <span class="token assign-left variable">ttl</span><span class="token operator">=</span><span class="token number">62</span> <span class="token assign-left variable">time</span><span class="token operator">=</span><span class="token number">0.731</span> ms

--- <span class="token number">172.17</span>.71.2 <span class="token function">ping</span> statistics ---
<span class="token number">3</span> packets transmitted, <span class="token number">3</span> packets received, <span class="token number">0</span>% packet loss
round-trip min/avg/max <span class="token operator">=</span> <span class="token number">0.720</span>/0.753/0.810 ms
/ <span class="token comment">#</span>

root@docker2:~<span class="token comment"># docker run -it busybox sh</span>
/ <span class="token comment"># ifconfig</span>
eth0      Link encap:Ethernet  HWaddr 02:42:AC:11:47:02
          inet addr:172.17.71.2  Bcast:172.17.71.255  Mask:255.255.255.0
          UP BROADCAST RUNNING MULTICAST  MTU:1450  Metric:1
          RX packets:9 errors:0 dropped:0 overruns:0 frame:0
          TX packets:0 errors:0 dropped:0 overruns:0 carrier:0
          collisions:0 txqueuelen:0
          RX bytes:806 <span class="token punctuation">(</span><span class="token number">806.0</span> B<span class="token punctuation">)</span>  TX bytes:0 <span class="token punctuation">(</span><span class="token number">0.0</span> B<span class="token punctuation">)</span>

lo        Link encap:Local Loopback
          inet addr:127.0.0.1  Mask:255.0.0.0
          UP LOOPBACK RUNNING  MTU:65536  Metric:1
          RX packets:0 errors:0 dropped:0 overruns:0 frame:0
          TX packets:0 errors:0 dropped:0 overruns:0 carrier:0
          collisions:0 txqueuelen:1000
          RX bytes:0 <span class="token punctuation">(</span><span class="token number">0.0</span> B<span class="token punctuation">)</span>  TX bytes:0 <span class="token punctuation">(</span><span class="token number">0.0</span> B<span class="token punctuation">)</span>

/ <span class="token comment"># ping -c3 172.17.19.2</span>
PING <span class="token number">172.17</span>.19.2 <span class="token punctuation">(</span><span class="token number">172.17</span>.19.2<span class="token punctuation">)</span>: <span class="token number">56</span> data bytes
<span class="token number">64</span> bytes from <span class="token number">172.17</span>.19.2: <span class="token assign-left variable">seq</span><span class="token operator">=</span><span class="token number">0</span> <span class="token assign-left variable">ttl</span><span class="token operator">=</span><span class="token number">62</span> <span class="token assign-left variable">time</span><span class="token operator">=</span><span class="token number">4.305</span> ms
<span class="token number">64</span> bytes from <span class="token number">172.17</span>.19.2: <span class="token assign-left variable">seq</span><span class="token operator">=</span><span class="token number">1</span> <span class="token assign-left variable">ttl</span><span class="token operator">=</span><span class="token number">62</span> <span class="token assign-left variable">time</span><span class="token operator">=</span><span class="token number">0.858</span> ms
<span class="token number">64</span> bytes from <span class="token number">172.17</span>.19.2: <span class="token assign-left variable">seq</span><span class="token operator">=</span><span class="token number">2</span> <span class="token assign-left variable">ttl</span><span class="token operator">=</span><span class="token number">62</span> <span class="token assign-left variable">time</span><span class="token operator">=</span><span class="token number">0.798</span> ms

--- <span class="token number">172.17</span>.19.2 <span class="token function">ping</span> statistics ---
<span class="token number">3</span> packets transmitted, <span class="token number">3</span> packets received, <span class="token number">0</span>% packet loss
round-trip min/avg/max <span class="token operator">=</span> <span class="token number">0.798</span>/1.987/4.305 ms
/ <span class="token comment">#</span>
</code></pre>
<footer class="page-footer"><span class="copyright">Copyright &#xA9; &#x8352;&#x539F;&#x996E;&#x9732; 2019 all right reserved&#xFF0C;powered by Gitbook</span><span class="footer-modification">&#x8BE5;&#x6587;&#x4EF6;&#x4FEE;&#x8BA2;&#x65F6;&#x95F4;&#xFF1A;
2022-03-28 11:17:11
</span></footer>
                                
                                </section>
                            
                        </div>
                    </div>
                
            </div>

            
                
                <a href="data-persistence.html" class="navigation navigation-prev " aria-label="Previous page: 数据持久化">
                    <i class="fa fa-angle-left"></i>
                </a>
                
                
                <a href="dockerfile.html" class="navigation navigation-next " aria-label="Next page: Dockerfile">
                    <i class="fa fa-angle-right"></i>
                </a>
                
            
        
    </div>

    <script>
        var gitbook = gitbook || [];
        gitbook.push(function() {
            gitbook.page.hasChanged({"page":{"title":"网络","level":"2.5","depth":1,"next":{"title":"Dockerfile","level":"2.6","depth":1,"path":"worknote/docker/dockerfile.md","ref":"worknote/docker/dockerfile.md","articles":[]},"previous":{"title":"数据持久化","level":"2.4","depth":1,"path":"worknote/docker/data-persistence.md","ref":"worknote/docker/data-persistence.md","articles":[]},"dir":"ltr"},"config":{"plugins":["-lunr","-search","-highlight","-sharing","disqus","prism","prism-themes","advanced-emoji","github","splitter","tbfed-pagefooter","anchors","anchor-navigation-ex@0.1.8","alerts","toggle-chapters"],"root":".","styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"pluginsConfig":{"tbfed-pagefooter":{"copyright":"Copyright &copy 荒原饮露 2019","modify_label":"该文件修订时间：","modify_format":"YYYY-MM-DD HH:mm:ss"},"chapter-fold":{},"prism":{"css":["prism-themes/themes/prism-lucario.css"]},"disqus":{"useIdentifier":false,"shortName":"hercules-gitbook"},"github":{"url":"https://github.com/MF-ReStart/mf-restart.github.io"},"splitter":{},"fontsettings":{"theme":"white","family":"sans","size":2},"anchor-navigation-ex":{"isRewritePageTitle":true,"isShowTocTitleIcon":true,"tocLevel1Icon":"fa fa-hand-o-right","tocLevel2Icon":"fa fa-hand-o-right","tocLevel3Icon":"fa fa-hand-o-right"},"prism-themes":{},"alerts":{},"advanced-emoji":{"embedEmojis":false},"theme-default":{"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"showLevel":true},"anchors":{},"toggle-chapters":{}},"theme":"default","author":"荒原饮露","pdf":{"pageNumbers":true,"fontSize":12,"fontFamily":"Arial","paperSize":"a4","chapterMark":"pagebreak","pageBreaksBefore":"/","margin":{"right":62,"left":62,"top":56,"bottom":56}},"structure":{"langs":"LANGS.md","readme":"README.md","glossary":"GLOSSARY.md","summary":"SUMMARY.md"},"variables":{},"title":"荒原饮露的笔记","language":"zh-hans","links":{"sidebar":{"Home":"https://mf-restart.github.io/"}},"gitbook":"3.2.3","description":"记录工作和生活"},"file":{"path":"worknote/docker/network.md","mtime":"2022-03-28T03:17:11.000Z","type":"markdown"},"gitbook":{"version":"3.2.3","time":"2022-10-26T08:19:22.379Z"},"basePath":"../..","book":{"language":""}});
        });
    </script>
</div>

        
    <script src="../../gitbook/gitbook.js"></script>
    <script src="../../gitbook/theme.js"></script>
    
        
        <script src="https://cdnjs.cloudflare.com/ajax/libs/URI.js/1.16.1/URI.min.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-disqus/plugin.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-github/plugin.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-splitter/splitter.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-alerts/plugin.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-toggle-chapters/toggle.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-fontsettings/fontsettings.js"></script>
        
    

    </body>
</html>

